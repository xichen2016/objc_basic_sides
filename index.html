<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>ThoughtWorks in a nutshell</title>

  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/thoughtworks.css" id="theme">

  <!-- Code syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
</head>

<body>

<div class="reveal">
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section>
      <h1 class="title">Objective - C Basics</h1>
      <p>
        <small>Created by Chen Xi</small>
      </p>
    </section>
    <section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">Introduction</h2>
      </section>
      <section class="bg-lightgray darkgray">
        <p>Objective-C is a strict superset of C, which means that it’s possible to seamlessly combine both languages in the same source file.</p>
        <img style="width: 20%" src="images/obj-c-superset.png">
      </section>
    </section>
    <section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">Basic Syntax</h2>
      </section>

      <section class="bg-lightgray darkgray">
        <h3 class="blue">Comments</h3>
        <pre><code>
          // This is an inline comment

          /* This is a block comment.
          It can span multiple lines. */
        </code></pre>
      </section>

      <section class="bg-lightgray darkgray">
        <h3 class="blue">Variables</h3>
        <pre><code>
  // main.m
  #import &lt;Foundation/Foundation.h&gt;

  int main(int argc, const char * argv[]) {
    @autoreleasepool {
      double odometer = 9200.8;
      int odometerAsInteger = (int)odometer;

      NSLog(@"You've driven %.1f miles", odometer);        // 9200.8
      NSLog(@"You've driven %d miles", odometerAsInteger); // 9200
    }
    return 0;
  }
        </code></pre>
      </section>

      <section class="bg-lightgray darkgray">
        <h3 class="blue">Constants</h3>
        <pre><code>
          double const pi = 3.14159;
          pi = 42001.0;               // Compiler error
        </code></pre>
      </section>

      <section class="bg-lightgray darkgray">
        <h3 class="blue">Operators</h3>
        <ul>
          <li>Arithmetic Operators</li>
          <li>Relational Operators</li>
          <li>Logical Operators</li>
          <li>Bitwise Operators</li>
          <li>Assignment Operators</li>
          <li>Misc Operators</li>
        </ul>
      </section>
    </section>
    <section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">Data Types</h2>
      </section>

      <section class="bg-lightgray darkgray">
        <h3 class="blue">C Primitives</h3>
        <ul>
          <li>void</li>
          <li>Integer Types</li>
          <li>Floating-Point Types</li>
        </ul>
      </section>
      <section class="bg-lightgray darkgray">
        <p class="blue">id</p>
        <p class="blue">The id type is the generic type for all Objective-C objects. Like a void pointer, it can store a reference to any type of object.</p>
        <pre><code>
          id mysteryObject = @"An NSString object";
          NSLog(@"%@", [mysteryObject description]);
          mysteryObject = @{@"model": @"Ford", @"year": @1967};
          NSLog(@"%@", [mysteryObject description]);
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <p class="blue">Class</p>
        <p class="blue">Objective-C classes are represented as objects themselves, using a special data type called Class. This lets you, for example, dynamically check an object’s type at runtime.</p>
        <pre><code>
          Class targetClass = [NSString class];
          id mysteryObject = @"An NSString object";
          if ([mysteryObject isKindOfClass:targetClass]) {
            NSLog(@"Yup! That's an instance of the target class");
          }
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <p class="blue">SEL</p>
        <p class="blue">The SEL data type is used to store selectors, which are Objective-C’s internal representation of a method name.</p>
        <pre><code>
          SEL someMethod = @selector(sayHello);
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Defined in Foundation Framework</h3>
        <ul>
          <li>NSSet</li>
          <li>NSNumber</li>
          <li>NSArray</li>
          <li>NSDecimalNumber</li>
          <li>NSDictionary</li>
          <li>NSString</li>
          <li>Dates</li>
        </ul>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Creating Objects</h3>
        <p>standard alloc/init pattern</p>
        <code style="font-size: 20px">NSNumber *twentySeven = [[NSNumber alloc] initWithInt:27];</code>
        <p>factory methods provided by Foundation Framework</p>
        <code style="font-size: 20px">NSNumber *twentySeven = [NSNumber numberWithInt:27];</code>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Comparing Objects</h3>
        <ul>
          <li class="left"><b>Pointer comparison</b> uses the == operator to see if two pointers refer to the same memory address (i.e., the same object).</li>
          <li class="left"><b>Value comparison</b> uses methods like isEqualToNumber: to see if two objects represent the same value. It is possible for different objects to compare equal with this kind of comparison</li>
        </ul>
      </section>
    </section>
    <section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">Flow Control & Loop</h2>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Flow Control</h3>
        <pre><code>
          int modelYear = 1990;
          if (modelYear < 1967) {
            NSLog(@"That car is an antique!!!");
          } else if (modelYear <= 1991) {
            NSLog(@"That car is a classic!");
          } else if (modelYear == 2013) {
            NSLog(@"That's a brand new car!");
          } else {
            NSLog(@"There's nothing special about that car.");
          }
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <pre><code>
        // Switch statements (only work with integral types)
        switch (modelYear) {
          case 1987:
            NSLog(@"Your car is from 1987.");
            break;
          case 1988:
            NSLog(@"Your car is from 1988.");
            break;
          case 1989:
          case 1990:
            NSLog(@"Your car is from 1989 or 1990.");
            break;
          default:
            NSLog(@"I have no idea when your car was made.");
            break;
        }
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Loop</h3>
        <pre><code>
  // For-in loops ("Fast-enumeration," specific to Objective-C)
  NSArray *models = @[@"Ford", @"Honda", @"Nissan", @"Porsche"];
  for (id model in models) {
    NSLog(@"%@", model);
  }
        </code></pre>
      </section>
    </section>
    <section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">Class</h2>
      </section>
      <section class="bg-lightgray darkgray">
        <p class="left" style="font-size: 28px;">Objective-C is similar to C++ in that it abstracts a class’s interface from its implementation. An interface declares the public properties and methods of a class, and the corresponding implementation defines the code that actually makes these properties and methods work. </p>
        <img style="width: 60%" src="images/interface-vs-implementation.png">
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Interfaces</h3>
        <pre><code>
          // Car.h
          #import &lt;Foundation/Foundation.h&gt;

          @interface Car : NSObject {
            // Protected instance variables
          }

          @property (copy) NSString *model;

          - (void)drive;

          @end
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Implementations</h3>
        <pre><code>
          // Car.m
          #import "Car.h"

          @implementation Car {
            // Private instance variables
            double _odometer;
          }

          @synthesize model = _model;    // Optional for Xcode 4.4+

          - (void)drive {
            NSLog(@"Driving a %@. Vrooooom!", self.model);
          }

          @end
        </code></pre>
      </section>

      <section class="bg-lightgray darkgray">
        <h3 class="blue">Instantiation and Usage</h3>
        <pre><code>
          // main.m
          #import &lt;Foundation/Foundation.h&gt;
          #import "Car.h"

          int main(int argc, const char * argv[]) {
          @autoreleasepool {
            Car *toyota = [[Car alloc] init];

            [toyota setModel:@"Toyota Corolla"];
            NSLog(@"Created a %@", [toyota model]);

            toyota.model = @"Toyota Camry";
            NSLog(@"Changed the car to a %@", toyota.model);

            [toyota drive];
          }
          return 0;
          }
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Class Methods and Variables</h3>
        <pre><code>
          // Car.h
          + (void)setDefaultModel:(NSString *)aModel;
        </code></pre>
        <pre><code>
          // Car.m
          #import "Car.h"

          static NSString *_defaultModel;

          @implementation Car {
          ...

          + (void)setDefaultModel:(NSString *)aModel {
            _defaultModel = [aModel copy];
          }

          @end
        </code></pre>
        <pre><code>
          // main.m
          [Car setDefaultModel:@"Nissan Versa"];
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Custom Initialization Methods</h3>
        <pre><code>
          // Car.h
          - (id)initWithModel:(NSString *)aModel;
        </code></pre>
        <pre><code>
          // Car.m
          - (id)initWithModel:(NSString *)aModel {
            self = [super init];
              if (self) {
              // Any custom setup work goes here
                _model = [aModel copy];
                _odometer = 0;
            }
            return self;
          }

          - (id)init {
            // Forward to the "designated" initialization method
            return [self initWithModel:_defaultModel];
          }
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Class-Level Initialization</h3>
        <pre><code>
  // Car.m
  + (void)initialize {
    if (self == [Car class]) {
      // Makes sure this isn't executed more than once
      _defaultModel = @"Nissan Versa";
    }
  }
        </code></pre>
        <pre><code>
  // main.m
  #import &ltFoundation/Foundation.h&gt
  #import "Car.h"

  int main(int argc, const char * argv[]) {
    @autoreleasepool {
      // Instantiating objects
      Car *nissan = [[Car alloc] init];
      NSLog(@"Created a %@", [nissan model]);

      Car *chevy = [[Car alloc] initWithModel:@"Chevy Corvette"];
      NSLog(@"Created a %@, too.", chevy.model);
    }
    return 0;
  }
        </code></pre>
      </section>
    </section>
    <section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">Property</h2>
        <img style="width: 60%" src="images/accessor-methods.png">
      </section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">@property</h2>
        <pre><code>
      // Car.h
      #import &lt;Foundation/Foundation.h&gt;
      @interface Car : NSObject
      @property BOOL running;
      @end
        </code></pre>
        <pre><code>
      // Car.m
      #import "Car.h"
      @implementation Car
      @synthesize running = _running;    // Optional for Xcode 4.4+
      @end
        </code></pre>
        <pre><code>
      - (BOOL)running {
        return _running;
      }
      - (void)setRunning:(BOOL)newValue {
        _running = newValue;
      }
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <pre><code>
  // main.m
  #import &lt;Foundation/Foundation.h&gt;
  #import "Car.h"

  int main(int argc, const char * argv[]) {
    @autoreleasepool {
      Car *honda = [[Car alloc] init];
      honda.running = YES;                // [honda setRunning:YES]
      NSLog(@"%d", honda.running);        // [honda running]
    }
    return 0;
  }
        </code></pre>
        <p class="blue">
          honda.running code actually calls setRunning: when you assign a value to it and the running method when you read a value from it.
        </p>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">getter= and setter= Attributes</h3>
        <p class="blue">
          If you don’t like @property’s default naming conventions, you can change the getter/setter method names with the getter= and setter= attributes.
        </p>
        <pre><code>
  @property (getter=isRunning) BOOL running;
        </code></pre>
        <pre><code>
  Car *honda = [[Car alloc] init];
  honda.running = YES;            // [honda setRunning:YES]
  NSLog(@"%d", honda.running);    // [honda isRunning]
  NSLog(@"%d", [honda running]);  // Error: method no longer exists
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">readonly Attribute</h3>
        <p class="blue">
          The readonly attribute is an easy way to make a property read-only. It omits the setter method and prevents assignment via dot-notation, but the getter is unaffected.
        </p>
        <pre><code>
        #import &lt;Foundation/Foundation.h&gt;

        @interface Car : NSObject

        @property (getter=isRunning, readonly) BOOL running;

        - (void)startEngine;
        - (void)stopEngine;

        @end
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <pre><code>
          // Car.m
          #import "Car.h"

          @implementation Car

          - (void)startEngine {
            _running = YES;
          }
          - (void)stopEngine {
            _running = NO;
          }

          @end
        </code></pre>
        <pre><code>
          Car *honda = [[Car alloc] init];
          [honda startEngine];
          NSLog(@"Running: %d", honda.running);
          honda.running = NO;   // Error: read-only property
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">nonatomic Attribute</h3>
        <pre><code>
          @property (nonatomic) NSString *model;
        </code></pre>
      </section>
    </section>
    <section>
      <section class="bg-lightgray darkgray">
        <h2 class="blue">Method</h2>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Naming Conventions</h3>
        <ol>
          <li>Don’t abbreviate anything.</li>
          <li>Explicitly state parameter names in the method itself.</li>
          <li>Explicitly describe the return value of the method.</li>
        </ol>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Examples</h3>
        <pre><code>
// Accessors
- (BOOL)isRunning;
- (void)setRunning:(BOOL)running;

// Action methods
- (void)driveForDistance:(double)theDistance;
- (void)driveFromOrigin:(id)theOrigin toDestination:(id)theDestination;

// Constructor methods
- (id)initWithModel:(NSString *)aModel;
- (id)initWithModel:(NSString *)aModel mileage:(double)theMileage;

// Comparison methods
- (BOOL)isEqualToCar:(Car *)anotherCar;
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Calling Methods</h3>
        <pre><code>
          [porsche initWithModel:@"Porsche"];
          [porsche initWithModel:@"Porsche" mileage:42000.0];
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Nested Method Calls</h3>
        <pre><code>
          [[Car alloc] init];
        </code></pre>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Protected and Private Methods?</h3>
      </section>
      <section class="bg-lightgray darkgray">
        <h3 class="blue">Selectors</h3>
        <p class="blue">Selectors are Objective-C’s internal representation of a method name. They let you treat a method as an independent entity, enabling you to separate an action from the object that needs to perform it.</p>
      </section>
      <section class="bg-lightgray darkgray">
        <pre><code>
  // main.m
  #import &lt;Foundation/Foundation.h&gt;
  #import "Car.h"

  int main(int argc, const char * argv[]) {
    @autoreleasepool {
      Car *porsche = [[Car alloc] init];
      porsche.model = @"Porsche 911 Carrera";

      SEL stepOne = NSSelectorFromString(@"startEngine");
      SEL stepTwo = @selector(driveForDistance:);
      SEL stepThree = @selector(turnByAngle:quickly:);

      // This is the same as:
      // [porsche startEngine];
      [porsche performSelector:stepOne];

      // This is the same as:
      // [porsche driveForDistance:[NSNumber numberWithDouble:5.7]];
      [porsche performSelector:stepTwo
      withObject:[NSNumber numberWithDouble:5.7]];

      if ([porsche respondsToSelector:stepThree]) {
        // This is the same as:
        // [porsche turnByAngle:[NSNumber numberWithDouble:90.0]
        //              quickly:[NSNumber numberWithBool:YES]];
        [porsche performSelector:stepThree
        withObject:[NSNumber numberWithDouble:90.0]
        withObject:[NSNumber numberWithBool:YES]];
      }
      NSLog(@"Step one: %@", NSStringFromSelector(stepOne));
    }
    return 0;
  }
        </code></pre>
      </section>
    </section>
  </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    transition: 'convex', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [
      {
        src: 'lib/js/classList.js', condition: function () {
        return !document.body.classList;
      }
      },
      {
        src: 'plugin/markdown/marked.js', condition: function () {
        return !!document.querySelector('[data-markdown]');
      }
      },
      {
        src: 'plugin/markdown/markdown.js', condition: function () {
        return !!document.querySelector('[data-markdown]');
      }
      },
      {
        src: 'plugin/highlight/highlight.js', async: true, condition: function () {
        return !!document.querySelector('pre code');
      }, callback: function () {
        hljs.initHighlightingOnLoad();
      }
      },
      {src: 'plugin/zoom-js/zoom.js', async: true},
      {src: 'plugin/notes/notes.js', async: true}
    ]
  });
</script>
</body>
</html>
